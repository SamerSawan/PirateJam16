[gd_resource type="BehaviorTree" load_steps=23 format=3 uid="uid://b6k06ponlse1f"]

[ext_resource type="Script" path="res://ai/tasks/IsAggro.gd" id="1_ao5jv"]
[ext_resource type="Script" path="res://ai/tasks/IsEnemyInArea.gd" id="1_sard6"]

[sub_resource type="BlackboardPlan" id="BlackboardPlan_f5t40"]
var/var/name = &"var"
var/var/type = 3
var/var/value = 0.0
var/var/hint = 0
var/var/hint_string = ""

[sub_resource type="BTCondition" id="BTCondition_n8pxj"]
script = ExtResource("1_ao5jv")

[sub_resource type="BTCondition" id="BTCondition_p0282"]
script = ExtResource("1_sard6")

[sub_resource type="BBNode" id="BBNode_txafw"]
saved_value = NodePath("AnimationPlayer")
resource_name = "AnimationPlayer"

[sub_resource type="BTPlayAnimation" id="BTPlayAnimation_dwx1e"]
animation_player = SubResource("BBNode_txafw")
animation_name = &"RunAway"
blend = 0.1

[sub_resource type="BTRandomWait" id="BTRandomWait_uqrto"]
min_duration = 0.7
max_duration = 3.0

[sub_resource type="BTSequence" id="BTSequence_lfbks"]
custom_name = "Run Away"
children = [SubResource("BTPlayAnimation_dwx1e"), SubResource("BTRandomWait_uqrto")]

[sub_resource type="BTCooldown" id="BTCooldown_wxtl2"]
duration = 1.0
children = [SubResource("BTSequence_lfbks")]

[sub_resource type="BTSequence" id="BTSequence_58w6g"]
children = [SubResource("BTCondition_p0282"), SubResource("BTCooldown_wxtl2")]

[sub_resource type="BTSequence" id="BTSequence_87chv"]
children = [SubResource("BTCondition_n8pxj"), SubResource("BTSequence_58w6g")]

[sub_resource type="BBNode" id="BBNode_7gpls"]
saved_value = NodePath("AnimationPlayer")
resource_name = "AnimationPlayer"

[sub_resource type="BTPlayAnimation" id="BTPlayAnimation_ywnhh"]
animation_player = SubResource("BBNode_7gpls")
animation_name = &"Walk"
blend = 0.1

[sub_resource type="BTRandomWait" id="BTRandomWait_ggc5s"]
min_duration = 0.7
max_duration = 3.0

[sub_resource type="BTSequence" id="BTSequence_lu1ci"]
custom_name = "Idle Around"
children = [SubResource("BTPlayAnimation_ywnhh"), SubResource("BTRandomWait_ggc5s")]

[sub_resource type="BTProbability" id="BTProbability_7r78l"]
run_chance = 0.327
children = [SubResource("BTSequence_lu1ci")]

[sub_resource type="BBNode" id="BBNode_xwh4t"]
saved_value = NodePath("AnimationPlayer")
resource_name = "AnimationPlayer"

[sub_resource type="BTPlayAnimation" id="BTPlayAnimation_tjmsy"]
animation_player = SubResource("BBNode_xwh4t")
animation_name = &"Idle"
blend = 0.1

[sub_resource type="BTRandomWait" id="BTRandomWait_pdeg5"]
min_duration = 0.7
max_duration = 3.0

[sub_resource type="BTSequence" id="BTSequence_jif5i"]
custom_name = "Idle In Place"
children = [SubResource("BTPlayAnimation_tjmsy"), SubResource("BTRandomWait_pdeg5")]

[sub_resource type="BTSelector" id="BTSelector_fdcjp"]
children = [SubResource("BTSequence_87chv"), SubResource("BTProbability_7r78l"), SubResource("BTSequence_jif5i")]

[resource]
blackboard_plan = SubResource("BlackboardPlan_f5t40")
root_task = SubResource("BTSelector_fdcjp")
